<html>
  <body>
    <div id="container">
      <form>
        <div>
          <label>Title</label>
          <input type="text" id="todo-title" />
        </div>
        <div>
          <label>Completed</label>
          <input type="checkbox" id="todo-completed" />
        </div>

        <button type="submit" id="submit-todo">Submit</button>
      </form>
    </div>
  </body>
</html>

<script>

const form = document.querySelector('form');


async function fetchData (e) {
  try{ e.preventDefault();
  const title = e.target[0].value;
  const checkbox = e.target[1].checked;
  const obj = {
    title: title,
    completed: checkbox
  }
const response = await fetch("https://jsonplaceholder.typicode.com/posts", {
  method : "POST",
  headers: {
    "Content-Type": "application/json"
  },
  body : JSON.stringify(obj),
})
const data = await response.json();
console.log(data);}
 catch (error) {
  console.log(error);
 }
}

form.addEventListener('submit', fetchData);



  // document.getElementById('submit-todo')
  // .addEventListener('click', async function (){
  //   const title = document.getElementById('todo-title').value;
  //   const completed = document.getElementById ('todo-completed').checked;
  //  const postData = {
  //   title: title,
  //   completed: completed
  //  };
  //  try {
  //   const response = await fetch ('https://jsonplaceholder.typicode.com/posts', {method: "POST", body: JSON.stringify(postData), headers: {
  //     "Content-Type": "application/json"
  //   }}
  //   )
    
  //   if (!response.ok) {
  //           throw new Error("HTTP request failed");
  //         }

  //         const postedData = await response.json();
  //         console.log("Post created:", postedData);
  //       } catch (error) {
  //         console.error("An error occurred:", error);
  //       }
  //     });


    // document
    //   .getElementById("submit-todo")
    //   .addEventListener("click", async function () {
    //     const title = document.getElementById("todo-title").value;
    //     const completed = document.getElementById("todo-completed").checked;

      //   const postData = {
      //     title: title,
      //     completed: completed,
      //   };

      //   try {
      //     const response = await fetch(
      //       "https://jsonplaceholder.typicode.com/posts",
      //       {
      //         method: "POST",
      //         headers: {
      //           "Content-Type": "application/json",
      //         },
      //         body: JSON.stringify(postData),
      //       }
      //     );

      //     if (!response.ok) {
      //       throw new Error("HTTP request failed");
      //     }

      //     const postedData = await response.json();
      //     console.log("Post created:", postedData);
      //   } catch (error) {
      //     console.error("An error occurred:", error);
      //   }
      // });
</script>
